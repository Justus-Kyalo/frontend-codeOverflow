{"ast":null,"code":"import * as React from \"react\";\nimport { mergeOptions, defaultOptions } from \"./options\";\nconst providerlessContextValue = {\n  adapter: {},\n  options: defaultOptions\n};\nconst QueryParamContext = React.createContext(providerlessContextValue);\nfunction useQueryParamContext() {\n  const value = React.useContext(QueryParamContext);\n  if (value === void 0 || value === providerlessContextValue) {\n    throw new Error(\"useQueryParams must be used within a QueryParamProvider\");\n  }\n  return value;\n}\nfunction QueryParamProviderInner(_ref) {\n  let {\n    children,\n    adapter,\n    options\n  } = _ref;\n  const {\n    adapter: parentAdapter,\n    options: parentOptions\n  } = React.useContext(QueryParamContext);\n  const value = React.useMemo(() => {\n    return {\n      adapter: adapter != null ? adapter : parentAdapter,\n      options: mergeOptions(parentOptions, options)\n    };\n  }, [adapter, options, parentAdapter, parentOptions]);\n  return /* @__PURE__ */React.createElement(QueryParamContext.Provider, {\n    value\n  }, children);\n}\nfunction QueryParamProvider(_ref2) {\n  let {\n    children,\n    adapter,\n    options\n  } = _ref2;\n  const Adapter = adapter;\n  return Adapter ? /* @__PURE__ */React.createElement(Adapter, null, adapter2 => /* @__PURE__ */React.createElement(QueryParamProviderInner, {\n    adapter: adapter2,\n    options\n  }, children)) : /* @__PURE__ */React.createElement(QueryParamProviderInner, {\n    options\n  }, children);\n}\nvar QueryParamProvider_default = QueryParamProvider;\nexport { QueryParamContext, QueryParamProvider, QueryParamProvider_default as default, useQueryParamContext };","map":{"version":3,"names":["React","mergeOptions","defaultOptions","providerlessContextValue","adapter","options","QueryParamContext","createContext","useQueryParamContext","value","useContext","Error","QueryParamProviderInner","_ref","children","parentAdapter","parentOptions","useMemo","createElement","Provider","QueryParamProvider","_ref2","Adapter","adapter2","QueryParamProvider_default"],"sources":["/home/john/development/frontend-codeOverflow/node_modules/use-query-params/src/QueryParamProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  mergeOptions,\n  defaultOptions,\n  QueryParamOptions,\n  QueryParamOptionsWithRequired,\n} from './options';\nimport { QueryParamAdapter, QueryParamAdapterComponent } from './types';\n\n/**\n * Shape of the QueryParamContext, which the hooks consume to read and\n * update the URL state.\n */\ntype QueryParamContextValue = {\n  adapter: QueryParamAdapter;\n  options: QueryParamOptionsWithRequired;\n};\n\nconst providerlessContextValue: QueryParamContextValue = {\n  adapter: {} as QueryParamAdapter,\n  options: defaultOptions,\n};\n\nexport const QueryParamContext = React.createContext<QueryParamContextValue>(\n  providerlessContextValue\n);\n\nexport function useQueryParamContext() {\n  const value = React.useContext(QueryParamContext);\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    (value === undefined || value === providerlessContextValue)\n  ) {\n    throw new Error('useQueryParams must be used within a QueryParamProvider');\n  }\n\n  return value;\n}\n\n/**\n * Props for the Provider component, used to hook the active routing\n * system into our controls. Note only the root provider requires\n * `adapter`. We try to encourage that via intellisense by writing\n * the types this way (you must provide at least one of adapter or options,\n * default intellisense suggests adapter required.)\n */\ntype QueryParamProviderProps = {\n  /** Main app goes here */\n  children: React.ReactNode;\n} & (\n  | {\n      adapter?: never;\n      options: QueryParamOptions;\n    }\n  | {\n      /** required for the root provider but not for nested ones */\n      adapter: QueryParamAdapterComponent;\n      options?: QueryParamOptions;\n    }\n);\n\nfunction QueryParamProviderInner({\n  children,\n  adapter,\n  options,\n}: {\n  children: React.ReactNode;\n  adapter?: QueryParamAdapter | undefined;\n  options?: QueryParamOptions;\n}) {\n  // allow merging in parent options\n  const { adapter: parentAdapter, options: parentOptions } =\n    React.useContext(QueryParamContext);\n\n  const value = React.useMemo(() => {\n    return {\n      adapter: adapter ?? parentAdapter,\n      options: mergeOptions(\n        parentOptions,\n        options\n      ) as QueryParamOptionsWithRequired,\n    };\n  }, [adapter, options, parentAdapter, parentOptions]);\n\n  return (\n    <QueryParamContext.Provider value={value}>\n      {children}\n    </QueryParamContext.Provider>\n  );\n}\n\n/**\n * Context provider for query params to have access to the\n * active routing system, enabling updates to the URL.\n */\nexport function QueryParamProvider({\n  children,\n  adapter,\n  options,\n}: QueryParamProviderProps) {\n  const Adapter = adapter;\n  return Adapter ? (\n    <Adapter>\n      {(adapter) => (\n        <QueryParamProviderInner adapter={adapter} options={options}>\n          {children}\n        </QueryParamProviderInner>\n      )}\n    </Adapter>\n  ) : (\n    <QueryParamProviderInner options={options}>\n      {children}\n    </QueryParamProviderInner>\n  );\n}\n\nexport default QueryParamProvider;\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SACEC,YAAA,EACAC,cAAA,QAGK;AAYP,MAAMC,wBAAA,GAAmD;EACvDC,OAAA,EAAS,CAAC;EACVC,OAAA,EAASH;AACX;AAEO,MAAMI,iBAAA,GAAoBN,KAAA,CAAMO,aAAA,CACrCJ,wBAAA,CACF;AAEO,SAASK,qBAAA,EAAuB;EACrC,MAAMC,KAAA,GAAQT,KAAA,CAAMU,UAAA,CAAWJ,iBAAiB;EAChD,IAEGG,KAAA,KAAU,UAAaA,KAAA,KAAUN,wBAAA,EAClC;IACA,MAAM,IAAIQ,KAAA,CAAM,yDAAyD;EAC3E;EAEA,OAAOF,KAAA;AACT;AAwBA,SAASG,wBAAAC,IAAA,EAQN;EAAA,IAR8B;IAC/BC,QAAA;IACAV,OAAA;IACAC;EACF,IAAAQ,IAAA;EAME,MAAM;IAAET,OAAA,EAASW,aAAA;IAAeV,OAAA,EAASW;EAAc,IACrDhB,KAAA,CAAMU,UAAA,CAAWJ,iBAAiB;EAEpC,MAAMG,KAAA,GAAQT,KAAA,CAAMiB,OAAA,CAAQ,MAAM;IAChC,OAAO;MACLb,OAAA,EAASA,OAAA,WAAAA,OAAA,GAAWW,aAAA;MACpBV,OAAA,EAASJ,YAAA,CACPe,aAAA,EACAX,OAAA;IAEJ;EACF,GAAG,CAACD,OAAA,EAASC,OAAA,EAASU,aAAA,EAAeC,aAAa,CAAC;EAEnD,OACE,eAAAhB,KAAA,CAAAkB,aAAA,CAACZ,iBAAA,CAAkBa,QAAA,EAAlB;IAA2BV;EAAA,GACzBK,QACH;AAEJ;AAMO,SAASM,mBAAAC,KAAA,EAIY;EAAA,IAJO;IACjCP,QAAA;IACAV,OAAA;IACAC;EACF,IAAAgB,KAAA;EACE,MAAMC,OAAA,GAAUlB,OAAA;EAChB,OAAOkB,OAAA,GACL,eAAAtB,KAAA,CAAAkB,aAAA,CAACI,OAAA,QACGC,QAAA,IACA,eAAAvB,KAAA,CAAAkB,aAAA,CAACN,uBAAA;IAAwBR,OAAA,EAASmB,QAAA;IAASlB;EAAA,GACxCS,QACH,CAEJ,IAEA,eAAAd,KAAA,CAAAkB,aAAA,CAACN,uBAAA;IAAwBP;EAAA,GACtBS,QACH;AAEJ;AAEA,IAAOU,0BAAA,GAAQJ,kBAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}