{"ast":null,"code":"import csrfFetch from \"./csrf\";\nexport const RECEIVE_USERS = \"users/RECEIVE_USERS\";\nexport const RECEIVE_USER = \"users/RECEIVE_USER\";\nexport const REMOVE_USER = \"users/REMOVE_USER\";\nexport const receiveUsers = users => ({\n  type: RECEIVE_USERS,\n  users\n});\nexport const receiveUser = user => ({\n  type: RECEIVE_USER,\n  user\n});\nexport const removeUser = userId => ({\n  type: REMOVE_USER,\n  userId\n});\nexport const getUser = userId => _ref => {\n  let {\n    users\n  } = _ref;\n  return users ? users[userId] : null;\n};\nexport const getUsers = _ref2 => {\n  let {\n    users\n  } = _ref2;\n  return users ? Object.values(users) : [];\n};\nexport const fetchUser = userId => async dispatch => {\n  const res = await csrfFetch(`/api/users/${userId}`);\n  const data = await res.json();\n  dispatch(receiveUser(data.user));\n};\nexport const fetchUsers = () => async dispatch => {\n  const res = await csrfFetch(`/api/users`);\n  const data = await res.json();\n  dispatch(receiveUsers(data));\n};\nexport const deleteUser = userId => async dispatch => {\n  await csrfFetch(`/api/users${userId}`, {\n    method: \"DELETE\"\n  });\n  dispatch(removeUser(userId));\n};\nconst usersReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  Object.freeze(state);\n  const nextState = {\n    ...state\n  };\n  switch (action.type) {\n    case RECEIVE_USERS:\n      return {\n        ...state,\n        ...action.users\n      };\n    case RECEIVE_USER:\n      nextState[action.user.id] = action.user;\n      return nextState;\n    case REMOVE_USER:\n      delete nextState[action.userId];\n      return nextState;\n    default:\n      return state;\n  }\n};\nexport default usersReducer;","map":{"version":3,"names":["csrfFetch","RECEIVE_USERS","RECEIVE_USER","REMOVE_USER","receiveUsers","users","type","receiveUser","user","removeUser","userId","getUser","_ref","getUsers","_ref2","Object","values","fetchUser","dispatch","res","data","json","fetchUsers","deleteUser","method","usersReducer","state","arguments","length","undefined","action","freeze","nextState","id"],"sources":["/home/remmy/Documents/Development/code/phase-5/frontend-codeOverflow/src/store/users.js"],"sourcesContent":["import csrfFetch from \"./csrf\";\n\nexport const RECEIVE_USERS = \"users/RECEIVE_USERS\";\nexport const RECEIVE_USER = \"users/RECEIVE_USER\";\nexport const REMOVE_USER = \"users/REMOVE_USER\";\n\nexport const receiveUsers = users => ({\n    type: RECEIVE_USERS,\n    users\n});\n\nexport const receiveUser = user => ({\n    type: RECEIVE_USER,\n    user\n});\n\nexport const removeUser = userId => ({\n    type: REMOVE_USER,\n    userId\n});\n\nexport const getUser = userId => ({users}) => users ? users[userId] : null;\nexport const getUsers = ({users}) => users ? Object.values(users) : [];\n\nexport const fetchUser = userId => async dispatch => {\n    const res = await csrfFetch(`/api/users/${userId}`);\n    const data = await res.json();\n    dispatch(receiveUser(data.user));\n};\n\nexport const fetchUsers = () => async dispatch => {\n    const res = await csrfFetch(`/api/users`);\n    const data = await res.json();\n    dispatch(receiveUsers(data));\n};\n\nexport const deleteUser = userId => async dispatch => {\n    await csrfFetch(`/api/users${userId}`, {method: \"DELETE\"});\n    dispatch(removeUser(userId));\n};\n\nconst usersReducer = (state= {}, action) => {\n    Object.freeze(state);\n    const nextState = {...state};\n    switch (action.type) {\n        case RECEIVE_USERS:\n            return {...state, ...action.users};\n        case RECEIVE_USER:\n            nextState[action.user.id] = action.user;\n            return nextState;\n        case REMOVE_USER:\n            delete nextState[action.userId];\n            return nextState;\n        default:\n            return state;\n    }\n};\n\nexport default usersReducer;"],"mappings":"AAAA,OAAOA,SAAS,MAAM,QAAQ;AAE9B,OAAO,MAAMC,aAAa,GAAG,qBAAqB;AAClD,OAAO,MAAMC,YAAY,GAAG,oBAAoB;AAChD,OAAO,MAAMC,WAAW,GAAG,mBAAmB;AAE9C,OAAO,MAAMC,YAAY,GAAGC,KAAK,KAAK;EAClCC,IAAI,EAAEL,aAAa;EACnBI;AACJ,CAAC,CAAC;AAEF,OAAO,MAAME,WAAW,GAAGC,IAAI,KAAK;EAChCF,IAAI,EAAEJ,YAAY;EAClBM;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMC,UAAU,GAAGC,MAAM,KAAK;EACjCJ,IAAI,EAAEH,WAAW;EACjBO;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMC,OAAO,GAAGD,MAAM,IAAIE,IAAA;EAAA,IAAC;IAACP;EAAK,CAAC,GAAAO,IAAA;EAAA,OAAKP,KAAK,GAAGA,KAAK,CAACK,MAAM,CAAC,GAAG,IAAI;AAAA;AAC1E,OAAO,MAAMG,QAAQ,GAAGC,KAAA;EAAA,IAAC;IAACT;EAAK,CAAC,GAAAS,KAAA;EAAA,OAAKT,KAAK,GAAGU,MAAM,CAACC,MAAM,CAACX,KAAK,CAAC,GAAG,EAAE;AAAA;AAEtE,OAAO,MAAMY,SAAS,GAAGP,MAAM,IAAI,MAAMQ,QAAQ,IAAI;EACjD,MAAMC,GAAG,GAAG,MAAMnB,SAAS,CAAE,cAAaU,MAAO,EAAC,CAAC;EACnD,MAAMU,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAI,EAAE;EAC7BH,QAAQ,CAACX,WAAW,CAACa,IAAI,CAACZ,IAAI,CAAC,CAAC;AACpC,CAAC;AAED,OAAO,MAAMc,UAAU,GAAGA,CAAA,KAAM,MAAMJ,QAAQ,IAAI;EAC9C,MAAMC,GAAG,GAAG,MAAMnB,SAAS,CAAE,YAAW,CAAC;EACzC,MAAMoB,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAI,EAAE;EAC7BH,QAAQ,CAACd,YAAY,CAACgB,IAAI,CAAC,CAAC;AAChC,CAAC;AAED,OAAO,MAAMG,UAAU,GAAGb,MAAM,IAAI,MAAMQ,QAAQ,IAAI;EAClD,MAAMlB,SAAS,CAAE,aAAYU,MAAO,EAAC,EAAE;IAACc,MAAM,EAAE;EAAQ,CAAC,CAAC;EAC1DN,QAAQ,CAACT,UAAU,CAACC,MAAM,CAAC,CAAC;AAChC,CAAC;AAED,MAAMe,YAAY,GAAG,SAAAA,CAAA,EAAuB;EAAA,IAAtBC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAE,CAAC,CAAC;EAAA,IAAEG,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACnCd,MAAM,CAACgB,MAAM,CAACL,KAAK,CAAC;EACpB,MAAMM,SAAS,GAAG;IAAC,GAAGN;EAAK,CAAC;EAC5B,QAAQI,MAAM,CAACxB,IAAI;IACf,KAAKL,aAAa;MACd,OAAO;QAAC,GAAGyB,KAAK;QAAE,GAAGI,MAAM,CAACzB;MAAK,CAAC;IACtC,KAAKH,YAAY;MACb8B,SAAS,CAACF,MAAM,CAACtB,IAAI,CAACyB,EAAE,CAAC,GAAGH,MAAM,CAACtB,IAAI;MACvC,OAAOwB,SAAS;IACpB,KAAK7B,WAAW;MACZ,OAAO6B,SAAS,CAACF,MAAM,CAACpB,MAAM,CAAC;MAC/B,OAAOsB,SAAS;IACpB;MACI,OAAON,KAAK;EAAC;AAEzB,CAAC;AAED,eAAeD,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}