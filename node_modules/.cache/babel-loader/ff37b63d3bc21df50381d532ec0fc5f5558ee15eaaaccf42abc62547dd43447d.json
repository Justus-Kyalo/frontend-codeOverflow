{"ast":null,"code":"var _jsxFileName = \"/home/remmy/Documents/Development/code/phase-5/CodeOverflow/frontend/src/components/QuestionShowComponent/index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport { deleteQuestion, getQuestion, fetchAllQuestions } from \"../../store/questions\";\nimport \"./index.css\";\nimport moment from \"moment\";\nimport AnswerForm from \"../AnswerFormComponent\";\nimport AnswerIndex from \"../AnswerIndexComponent\";\nimport Vote from \"../VoteComponent\";\nimport TagsComponent from \"../TagIndexComponent/tags.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst QuestionShow = () => {\n  _s();\n  window.scrollTo(0, 0);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    questionId\n  } = useParams();\n  const sessionUser = useSelector(state => state.session.user);\n  const question = useSelector(getQuestion(questionId));\n  useEffect(() => {\n    dispatch(fetchAllQuestions()).catch(() => {\n      history.push(\"/NotFound\");\n    });\n  }, [dispatch]);\n  const handleClick = e => {\n    if (sessionUser) {\n      history.push(\"/questions/ask\");\n    } else {\n      history.push(\"/login\");\n    }\n  };\n  const handleDelete = e => {\n    dispatch(deleteQuestion(questionId));\n    history.push(\"/questions\");\n  };\n  const dispatchQuestion = () => {\n    dispatch(fetchAllQuestions());\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"question-show-content\",\n    children: question && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-and-button\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"question-title\",\n          children: question === null || question === void 0 ? void 0 : question.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClick,\n          className: \"question-show-ask-question-button\",\n          children: \"Ask Question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"stats\",\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Asked \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: moment(question.createdAt).fromNow()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), \" by\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"displayName\",\n            children: question.author\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-show-bottom\",\n        children: [/*#__PURE__*/_jsxDEV(Vote, {\n          post: question,\n          sessionUser: sessionUser,\n          isAnswer: false,\n          dispatchPost: dispatchQuestion\n        }, `question${question.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-body\",\n          children: [question.body, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-tags\",\n            children: /*#__PURE__*/_jsxDEV(TagsComponent, {\n              tags: question.tagsAttributes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), sessionUser && sessionUser.id === question.authorId ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crud-functions\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-delete\",\n            style: {\n              marginRight: \"5px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/questions/${questionId}/edit`,\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-delete\",\n            onClick: handleDelete,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-count\",\n        children: [question.answerCount, \" answer\", question.answerCount === 1 ? \"\" : \"s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AnswerIndex, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), sessionUser ? /*#__PURE__*/_jsxDEV(AnswerForm, {\n        questionId: questionId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 26\n      }, this) : \"\", sessionUser ? \"\" : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"15px\"\n        },\n        children: [\"Please \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/login\",\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 22\n        }, this), \" to answer\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(QuestionShow, \"H+Pco9UGMc9JJ9WnXwnusW98+Is=\", false, function () {\n  return [useDispatch, useHistory, useParams, useSelector, useSelector];\n});\n_c = QuestionShow;\nexport default QuestionShow;\nvar _c;\n$RefreshReg$(_c, \"QuestionShow\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Link","useHistory","useParams","deleteQuestion","getQuestion","fetchAllQuestions","moment","AnswerForm","AnswerIndex","Vote","TagsComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","QuestionShow","_s","window","scrollTo","dispatch","history","questionId","sessionUser","state","session","user","question","catch","push","handleClick","e","handleDelete","dispatchQuestion","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","onClick","createdAt","fromNow","author","post","isAnswer","dispatchPost","id","body","tags","tagsAttributes","authorId","style","display","marginRight","to","answerCount","marginTop","href","_c","$RefreshReg$"],"sources":["/home/remmy/Documents/Development/code/phase-5/CodeOverflow/frontend/src/components/QuestionShowComponent/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport { deleteQuestion, getQuestion, fetchAllQuestions } from \"../../store/questions\";\nimport \"./index.css\";\nimport moment from \"moment\";\nimport AnswerForm from \"../AnswerFormComponent\";\nimport AnswerIndex from \"../AnswerIndexComponent\";\nimport Vote from \"../VoteComponent\";\nimport TagsComponent from \"../TagIndexComponent/tags.js\"\n\nconst QuestionShow = () => {\n  window.scrollTo(0, 0);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { questionId } = useParams();\n  const sessionUser = useSelector((state) => state.session.user);\n  const question = useSelector(getQuestion(questionId));\n\n  useEffect(() => {\n    dispatch(fetchAllQuestions())\n      .catch(() => {\n        history.push(\"/NotFound\");\n    });\n  },[dispatch])\n\n  const handleClick = (e) => {\n    if (sessionUser) {\n      history.push(\"/questions/ask\")\n    } else {\n      history.push(\"/login\");\n    }\n  };\n\n  const handleDelete = (e) => {\n    dispatch(deleteQuestion(questionId));\n    history.push(\"/questions\");\n  };\n\n  const dispatchQuestion = () => {\n    dispatch(fetchAllQuestions())\n  }\n\n  return (\n        <div className=\"question-show-content\">\n          { question && \n          <>  \n          <div className=\"title-and-button\">    \n          <h1 className=\"question-title\">{question?.title}</h1>\n            <button\n              onClick={handleClick}\n              className=\"question-show-ask-question-button\"\n            >\n            Ask Question\n            </button>\n          </div>\n          <ul className=\"stats\">\n            <li>\n              Asked <span>{moment(question.createdAt).fromNow()}</span> by{\" \"}\n              <span className=\"displayName\">{question.author}</span>\n            </li>\n          </ul>\n          <hr/>\n          <div className=\"question-show-bottom\" >\n            <Vote key={`question${question.id}`} post={question} sessionUser={sessionUser} isAnswer={false} dispatchPost={dispatchQuestion}/>\n            <div className=\"question-body\">\n              {question.body}\n              <div className=\"question-tags\">\n                <TagsComponent tags={question.tagsAttributes} />\n              </div>\n            </div>\n          </div>\n          {sessionUser && sessionUser.id === question.authorId ? (\n            <div className=\"crud-functions\">\n              <div style={{display:\"flex\"}}>\n                <div className=\"edit-delete\" style={{ marginRight: \"5px\" }}>\n                  <Link to={`/questions/${questionId}/edit`}>Edit</Link>\n                </div>\n                <div className=\"edit-delete\" onClick={handleDelete}>\n                  Delete\n                </div>\n              </div>\n            </div>\n          ) : (\n            \"\"\n          )}\n          <div className=\"answer-count\">{question.answerCount} answer{question.answerCount === 1 ? \"\" : \"s\"}</div>\n          <AnswerIndex />\n          {sessionUser ? <AnswerForm questionId={questionId} /> : \"\"}\n          {sessionUser ? (\n            \"\"\n          ) : (\n            <div style={{ marginTop: \"15px\" }}>\n              Please <a href=\"/login\">login</a> to answer\n            </div>\n          )} \n          </>}   \n      </div>\n  );\n};\n\nexport default QuestionShow;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}